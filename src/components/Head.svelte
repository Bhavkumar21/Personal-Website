<script>
  export let dy
  export let lean_rad
  export let torso_p

  $: lean =
    -lean_rad / Math.PI * 180
</script>

<g transform="translate({torso_p.x} {torso_p.y}) rotate({lean})translate(-501 -1270)" id="head">
  <circle
    cx="86"
    cy="548.5"
    r="77.5"
    fill="var(--yellow)"
    />

  <g fill="var(--orange)">
    <path
      d="M1001.5 548.5C1001.5 591.302 966.802 626 924 626C881.198 626 846.5 591.302 846.5 548.5C846.5 505.698 881.198 471 924 471C966.802 471 1001.5 505.698 1001.5 548.5Z"
      />
    <circle cx="71.5" cy="549.5" r="33.5" />
  </g>

  <path
    d="M86.5 301C86.5 220.919 151.419 156 231.5 156H747.5C827.581 156 892.5 220.919 892.5 301V443.5V586C892.5 666.081 827.581 731 747.5 731H231.5C151.419 731 86.5 666.081 86.5 586V301Z"
    fill="var(--yellow)"
    />

  <g fill="var(--black)">
    <path
      d="M848 485H875C924.153 485 964 445.153 964 396V396C964 346.847 924.153 307 875 307H848L848 485Z"
      />
    <path
      d="M133 485H109C59.8467 485 20 445.153 20 396V396C20 346.847 59.8467 307 109 307H133L133 485Z"
      />
    <path
      d="M233 211L289 211C338.153 211 378 171.153 378 122V122C378 72.8467 338.153 33 289 33L233 33L233 211Z"
      />
    <path
      d="M753 0C869.256 0 963.5 94.2441 963.5 210.5V210.5C963.5 326.756 869.256 421 753 421H670.5C649.143 421 638.464 421 629.449 420.396C494.556 411.358 387.143 303.944 378.104 169.051C377.5 160.036 377.5 149.357 377.5 128V1.55349C377.5 1.03726 377.5 0.77915 377.593 0.578841C377.693 0.364602 377.865 0.192495 378.079 0.093013C378.279 0 378.537 0 379.054 0L753 0Z"
      />
    <path
      d="M403.5 93V219.5C403.5 330.785 313.285 421 202 421V421C90.7146 421 0.500005 330.785 0.500005 219.5V93L403.5 93Z"
      />
  </g>
  <g id="face" transform="translate({dy.x}, {dy.y})">
    <g fill="var(--black)">
      <path
        d="M394 548.5C394 580.256 368.256 606 336.5 606C304.744 606 279 580.256 279 548.5C279 516.744 304.744 491 336.5 491C368.256 491 394 516.744 394 548.5Z"
        />
      <path
        d="M691 548.5C691 580.256 665.256 606 633.5 606C601.744 606 576 580.256 576 548.5C576 516.744 601.744 491 633.5 491C665.256 491 691 516.744 691 548.5Z"
        />
    </g>
    <path
      d="M445 636H525"
      stroke="var(--orange)"
      stroke-width="40"
      stroke-linecap="round"
      />
  </g>
</g>
          
